{"ast":null,"code":"'use strict';\n\nvar zlib = require('zlib');\n\nvar decompressTar = require('decompress-tar');\n\nvar fileType = require('file-type');\n\nvar isStream = require('is-stream');\n\nmodule.exports = function () {\n  return function (input) {\n    if (!Buffer.isBuffer(input) && !isStream(input)) {\n      return Promise.reject(new TypeError(\"Expected a Buffer or Stream, got \".concat(typeof input)));\n    }\n\n    if (Buffer.isBuffer(input) && (!fileType(input) || fileType(input).ext !== 'gz')) {\n      return Promise.resolve([]);\n    }\n\n    var unzip = zlib.createGunzip();\n    var result = decompressTar()(unzip);\n\n    if (Buffer.isBuffer(input)) {\n      unzip.end(input);\n    } else {\n      input.pipe(unzip);\n    }\n\n    return result;\n  };\n};","map":null,"metadata":{},"sourceType":"script"}