{"ast":null,"code":"'use strict';\n\nvar decompressTar = require('decompress-tar');\n\nvar fileType = require('file-type');\n\nvar isStream = require('is-stream');\n\nvar seekBzip = require('seek-bzip');\n\nvar unbzip2Stream = require('unbzip2-stream');\n\nmodule.exports = function () {\n  return function (input) {\n    if (!Buffer.isBuffer(input) && !isStream(input)) {\n      return Promise.reject(new TypeError(\"Expected a Buffer or Stream, got \".concat(typeof input)));\n    }\n\n    if (Buffer.isBuffer(input) && (!fileType(input) || fileType(input).ext !== 'bz2')) {\n      return Promise.resolve([]);\n    }\n\n    if (Buffer.isBuffer(input)) {\n      return decompressTar()(seekBzip.decode(input));\n    }\n\n    return decompressTar()(input.pipe(unbzip2Stream()));\n  };\n};","map":null,"metadata":{},"sourceType":"script"}