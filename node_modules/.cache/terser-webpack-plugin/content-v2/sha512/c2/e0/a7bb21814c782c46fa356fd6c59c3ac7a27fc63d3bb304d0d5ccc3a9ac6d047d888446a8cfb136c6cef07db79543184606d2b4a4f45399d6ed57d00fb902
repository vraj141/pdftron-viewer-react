{"map":"{\"version\":3,\"sources\":[\"C:/Users/vrajs/Desktop/CHANGES TO BE INTEGRATED/firebase-file-upload-pdftron-reactjs/src/firebase/index.js\",\"C:/Users/vrajs/Desktop/CHANGES TO BE INTEGRATED/firebase-file-upload-pdftron-reactjs/src/index.js\"],\"names\":[\"firebase\",\"initializeApp\",\"apiKey\",\"authDomain\",\"projectId\",\"storageBucket\",\"messagingSenderId\",\"appId\",\"storage\",\"PdfApp\",\"viewer\",\"useRef\",\"useEffect\",\"WebViewer\",\"path\",\"initialDoc\",\"current\",\"then\",\"instance\",\"setTheme\",\"docViewer\",\"CoreControls\",\"Annotations\",\"annotManager\",\"getAnnotationManager\",\"setHeaderItems\",\"header\",\"push\",\"type\",\"img\",\"title\",\"onClick\",\"_onClick\",\"Object\",\"asyncToGenerator\",\"regenerator_default\",\"a\",\"mark\",\"_callee\",\"xfdfString\",\"saveOptions\",\"options\",\"wrap\",\"_context\",\"prev\",\"next\",\"exportAnnotations\",\"sent\",\"SaveOptions\",\"filename\",\"flags\",\"LINEARIZED\",\"downloadType\",\"downloadPdf\",\"stop\",\"apply\",\"this\",\"arguments\",\"disableElements\",\"_onClick2\",\"_callee2\",\"doc\",\"data\",\"arr\",\"blob\",\"_context2\",\"t0\",\"console\",\"links\",\"widgets\",\"t1\",\"log\",\"call\",\"getDocument\",\"getFileData\",\"Uint8Array\",\"Blob\",\"ref\",\"child\",\"put\",\"react_default\",\"createElement\",\"Fragment\",\"className\",\"ReactDOM\",\"render\",\"src_PdfApp\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import firebase from \\\"firebase/app\\\";\\r\\nimport \\\"firebase/storage\\\"\\r\\n\\r\\n \\r\\nconst firebaseConfig = {\\r\\n    apiKey: \\\"AIzaSyDVjvdgk4hBrRyO-tXlT3OicqqpM-dCNQo\\\",\\r\\n    authDomain: \\\"fir-react-upload-472ad.firebaseapp.com\\\",\\r\\n    projectId: \\\"fir-react-upload-472ad\\\",\\r\\n    storageBucket: \\\"fir-react-upload-472ad.appspot.com\\\",\\r\\n    messagingSenderId: \\\"1038885452377\\\",\\r\\n    appId: \\\"1:1038885452377:web:04f796878203e084b0cf48\\\"\\r\\n  };\\r\\n\\r\\n  firebase.initializeApp(firebaseConfig);\\r\\n \\r\\n  const storage = firebase.storage();\\r\\n  export{storage,firebase as default};\",\"// import React,{useState} from 'react'; \\nimport {storage} from \\\"./firebase\\\";\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\n\\nimport React, { useRef, useEffect} from 'react';\\nimport WebViewer from '@pdftron/webviewer';\\n// import './App.css';\\n\\n \\nconst PdfApp =()=>{\\n\\n  const viewer = useRef(null);\\n  useEffect(() => {\\n    \\n    WebViewer(\\n      {\\n        path: '/webviewer/lib',\\n        initialDoc: 'https://www.eurofound.europa.eu/sites/default/files/ef_publication/field_ef_document/ef1710en.pdf',\\n      },  \\n      viewer.current,\\n    ).then((instance) => {\\n      instance.setTheme('light');\\n      const { docViewer, Annotations ,   CoreControls} = instance;\\n      const annotManager = docViewer.getAnnotationManager();\\n      /////////////////////////////////////////\\n\\n        // Added download button in header\\n  instance.setHeaderItems(header => {\\n    header.push({\\n        type: 'actionButton',\\n        img: '<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\\\"/></svg>',\\n        title: 'download',\\n        onClick: async () => {\\n          const xfdfString = await annotManager.exportAnnotations();\\n          const saveOptions = CoreControls.SaveOptions;\\n          const options = {\\n            filename: 'myDocument.pdf',\\n            xfdfString,\\n            flags: saveOptions.LINEARIZED,\\n            downloadType: 'pdf'\\n          };\\n          \\n          instance.downloadPdf(options);\\n        }\\n    });\\n  });\\n\\n    ///disabled unuseful elements in tool bar\\ninstance.disableElements(['zoomInButton','zoomOutButton','zoomOverlayButton','startFormEditingToolGroupButton','cropToolGroupButton','printButton','eraserToolButton','themeChangeButton','fullscreenButton','eraserToolButton','redoButton','undoButton','calloutToolGroupButton','fileAttachmentToolGroupButton','fileAttachmentToolGroupButton','stampToolGroupButton','rubberStampToolGroupButton','leftPanelButton','viewControlsButton','zoomOverlay','panToolButton','textSelectButton','selectToolButton','searchButton','toggleNotesButton','toolbarGroup-Annotate','toolbarGroup-Shapes','toolbarGroup-Edit','toolbarGroup-Annotate','menuButton']);\\n   //added save button in header toolbar\\n  \\n       instance.setHeaderItems(header => {\\n        header.push({\\n          \\n          type: 'actionButton',\\n          img: '<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"/><path d=\\\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\\\"/></svg>',\\n          title: 'save button',\\n          onClick: async() => {\\n            console.log(await annotManager.exportAnnotations({ links: false, widgets: false }));\\n            // save the annotations\\n            //////////////\\n            const doc = docViewer.getDocument();\\n          const xfdfString = await annotManager.exportAnnotations();\\n          \\n          const data = await doc.getFileData({ xfdfString});\\n          const arr = new Uint8Array(data);\\n          const blob = new Blob([arr], { type: 'application/pdf' });\\n          let fileRef = storage.ref().child('https://www.eurofound.europa.eu/sites/default/files/ef_publication/field_ef_document/ef1710en.pdf' );\\n          fileRef.put(blob);\\n          \\n\\n          }\\n        });\\n      });\\n\\n\\n    });\\n  }, []);\\n \\n \\n  return(\\n      <>\\n    \\n    <div className=\\\"App\\\">\\n      \\n      <div className=\\\"webviewer\\\" ref={viewer}></div>\\n    </div>\\n       \\n    \\n    \\n     </>\\n  );\\n};\\n \\nReactDOM.render(<><PdfApp/></>, document.getElementById('root'));\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(22)},19:function(t,e,n){},22:function(t,e,n){\"use strict\";n.r(e);var o=n(4),a=n.n(o),r=n(6),u=n(5);n(21);u.a.initializeApp({apiKey:\"AIzaSyDVjvdgk4hBrRyO-tXlT3OicqqpM-dCNQo\",authDomain:\"fir-react-upload-472ad.firebaseapp.com\",projectId:\"fir-react-upload-472ad\",storageBucket:\"fir-react-upload-472ad.appspot.com\",messagingSenderId:\"1038885452377\",appId:\"1:1038885452377:web:04f796878203e084b0cf48\"});var i=u.a.storage(),l=n(9),s=n.n(l),c=(n(19),n(1)),p=n.n(c),f=n(10),d=n.n(f),m=function(){var t=Object(c.useRef)(null);return Object(c.useEffect)(function(){d()({path:\"/webviewer/lib\",initialDoc:\"https://www.eurofound.europa.eu/sites/default/files/ef_publication/field_ef_document/ef1710en.pdf\"},t.current).then(function(t){t.setTheme(\"light\");var e=t.docViewer,n=(t.Annotations,t.CoreControls),o=e.getAnnotationManager();t.setHeaderItems(function(e){e.push({type:\"actionButton\",img:'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"/></svg>',title:\"download\",onClick:function(){var e=Object(r.a)(a.a.mark(function e(){var r,u,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAnnotations();case 2:r=e.sent,u=n.SaveOptions,i={filename:\"myDocument.pdf\",xfdfString:r,flags:u.LINEARIZED,downloadType:\"pdf\"},t.downloadPdf(i);case 6:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}),t.disableElements([\"zoomInButton\",\"zoomOutButton\",\"zoomOverlayButton\",\"startFormEditingToolGroupButton\",\"cropToolGroupButton\",\"printButton\",\"eraserToolButton\",\"themeChangeButton\",\"fullscreenButton\",\"eraserToolButton\",\"redoButton\",\"undoButton\",\"calloutToolGroupButton\",\"fileAttachmentToolGroupButton\",\"fileAttachmentToolGroupButton\",\"stampToolGroupButton\",\"rubberStampToolGroupButton\",\"leftPanelButton\",\"viewControlsButton\",\"zoomOverlay\",\"panToolButton\",\"textSelectButton\",\"selectToolButton\",\"searchButton\",\"toggleNotesButton\",\"toolbarGroup-Annotate\",\"toolbarGroup-Shapes\",\"toolbarGroup-Edit\",\"toolbarGroup-Annotate\",\"menuButton\"]),t.setHeaderItems(function(t){t.push({type:\"actionButton\",img:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"/></svg>',title:\"save button\",onClick:function(){var t=Object(r.a)(a.a.mark(function t(){var n,r,u,l,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=console,t.next=3,o.exportAnnotations({links:!1,widgets:!1});case 3:return t.t1=t.sent,t.t0.log.call(t.t0,t.t1),n=e.getDocument(),t.next=8,o.exportAnnotations();case 8:return r=t.sent,t.next=11,n.getFileData({xfdfString:r});case 11:u=t.sent,l=new Uint8Array(u),s=new Blob([l],{type:\"application/pdf\"}),i.ref().child(\"https://www.eurofound.europa.eu/sites/default/files/ef_publication/field_ef_document/ef1710en.pdf\").put(s);case 16:case\"end\":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})})})},[]),p.a.createElement(p.a.Fragment,null,p.a.createElement(\"div\",{className:\"App\"},p.a.createElement(\"div\",{className:\"webviewer\",ref:t})))};s.a.render(p.a.createElement(p.a.Fragment,null,p.a.createElement(m,null)),document.getElementById(\"root\"))}},[[11,2,1]]]);","extractedComments":[]}